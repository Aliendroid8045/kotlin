final class BasicKt$g$1 : kotlin/jvm/internal/Lambda, kotlin/jvm/functions/Function1 {
    private final User $u

    void <init>(User $u) {
        LABEL (L0)
          ALOAD (0)
          ALOAD (1)
          PUTFIELD ($u, LUser;)
          ALOAD (0)
          ICONST_1
          INVOKESPECIAL (kotlin/jvm/internal/Lambda, <init>, (I)V)
          RETURN
        LABEL (L1)
    }

    public final void invoke(kotlinx.stm.STMContext <this>) {
        LABEL (L0)
          ALOAD (1)
          LDC (<this>)
          INVOKESTATIC (kotlin/jvm/internal/Intrinsics, checkNotNullParameter, (Ljava/lang/Object;Ljava/lang/String;)V)
        LABEL (L1)
        LINENUMBER (41)
          ALOAD (0)
          GETFIELD ($u, LUser;)
        LABEL (L2)
        LINENUMBER (40)
          ALOAD (1)
        LABEL (L3)
        LINENUMBER (41)
          INVOKEVIRTUAL (User, _____get_firstName$_______Sharable____, (Lkotlinx/stm/STMContext;)Ljava/lang/String;)
          ASTORE (2)
        LABEL (L4)
        LINENUMBER (42)
          ALOAD (0)
          GETFIELD ($u, LUser;)
        LABEL (L5)
        LINENUMBER (40)
          ALOAD (1)
        LABEL (L6)
        LINENUMBER (42)
          ALOAD (0)
          GETFIELD ($u, LUser;)
        LABEL (L7)
        LINENUMBER (40)
          ALOAD (1)
        LABEL (L8)
        LINENUMBER (42)
          INVOKEVIRTUAL (User, _____get_lastName$_______Sharable____, (Lkotlinx/stm/STMContext;)Ljava/lang/String;)
          INVOKEVIRTUAL (User, _set_____firstName$_______Sharable____, (Lkotlinx/stm/STMContext;Ljava/lang/String;)V)
        LABEL (L9)
        LINENUMBER (43)
          ALOAD (0)
          GETFIELD ($u, LUser;)
        LABEL (L10)
        LINENUMBER (40)
          ALOAD (1)
        LABEL (L11)
        LINENUMBER (43)
          ALOAD (2)
          INVOKEVIRTUAL (User, _set_____lastName$_______Sharable____, (Lkotlinx/stm/STMContext;Ljava/lang/String;)V)
        LABEL (L12)
        LINENUMBER (45)
          ALOAD (0)
          GETFIELD ($u, LUser;)
        LABEL (L13)
        LINENUMBER (40)
          ALOAD (1)
        LABEL (L14)
        LINENUMBER (45)
          INVOKESTATIC (BasicKt, a, (LUser;Lkotlinx/stm/STMContext;)V)
        LABEL (L15)
        LINENUMBER (46)
          RETURN
        LABEL (L16)
    }

    public java.lang.Object invoke(java.lang.Object p1) {
        LABEL (L0)
          ALOAD (0)
          ALOAD (1)
          CHECKCAST
          INVOKEVIRTUAL (BasicKt$g$1, invoke, (Lkotlinx/stm/STMContext;)V)
          GETSTATIC (INSTANCE, Lkotlin/Unit;)
          ARETURN
        LABEL (L1)
    }
}

public final class BasicKt : java/lang/Object {
    public final static void a(User u, kotlinx.stm.STMContext $ctx) {
        LABEL (L0)
          ALOAD (0)
          LDC (u)
          INVOKESTATIC (kotlin/jvm/internal/Intrinsics, checkNotNullParameter, (Ljava/lang/Object;Ljava/lang/String;)V)
          ALOAD (1)
          LDC ($ctx)
          INVOKESTATIC (kotlin/jvm/internal/Intrinsics, checkNotNullParameter, (Ljava/lang/Object;Ljava/lang/String;)V)
          NEW
          DUP
        LABEL (L1)
        LINENUMBER (34)
          INVOKESPECIAL (java/lang/StringBuilder, <init>, ()V)
          LDC (atomic user is: )
          INVOKEVIRTUAL (java/lang/StringBuilder, append, (Ljava/lang/String;)Ljava/lang/StringBuilder;)
          ALOAD (0)
          ALOAD (1)
          INVOKEVIRTUAL (User, _____get_firstName$_______Sharable____, (Lkotlinx/stm/STMContext;)Ljava/lang/String;)
          INVOKEVIRTUAL (java/lang/StringBuilder, append, (Ljava/lang/String;)Ljava/lang/StringBuilder;)
          BIPUSH (32)
          INVOKEVIRTUAL (java/lang/StringBuilder, append, (C)Ljava/lang/StringBuilder;)
          ALOAD (0)
          ALOAD (1)
          INVOKEVIRTUAL (User, _____get_lastName$_______Sharable____, (Lkotlinx/stm/STMContext;)Ljava/lang/String;)
          INVOKEVIRTUAL (java/lang/StringBuilder, append, (Ljava/lang/String;)Ljava/lang/StringBuilder;)
          INVOKEVIRTUAL (java/lang/StringBuilder, toString, ()Ljava/lang/String;)
          ASTORE (2)
          ICONST_0
          ISTORE (3)
          GETSTATIC (out, Ljava/io/PrintStream;)
          ALOAD (2)
          INVOKEVIRTUAL (java/io/PrintStream, println, (Ljava/lang/Object;)V)
          RETURN
        LABEL (L2)
    }

    public final static void g() {
        LABEL (L0)
        LINENUMBER (38)
          NEW
          DUP
          LDC (Vadim)
          LDC (Briliantov)
          INVOKESPECIAL (User, <init>, (Ljava/lang/String;Ljava/lang/String;)V)
          ASTORE (0)
        LABEL (L1)
        LINENUMBER (40)
          ACONST_NULL
          NEW
          DUP
          ALOAD (0)
          INVOKESPECIAL (BasicKt$g$1, <init>, (LUser;)V)
          CHECKCAST
          ICONST_1
          ACONST_NULL
          INVOKESTATIC (kotlinx/stm/STMKt, runAtomically$default, (Lkotlinx/stm/STM;Lkotlin/jvm/functions/Function1;ILjava/lang/Object;)Ljava/lang/Object;)
          POP
        LABEL (L2)
        LINENUMBER (48)
          ALOAD (0)
          ACONST_NULL
          INVOKEVIRTUAL (User, _____get_firstName$_______Sharable____, (Lkotlinx/stm/STMContext;)Ljava/lang/String;)
          ASTORE (1)
          ICONST_0
          ISTORE (2)
          GETSTATIC (out, Ljava/io/PrintStream;)
          ALOAD (1)
          INVOKEVIRTUAL (java/io/PrintStream, println, (Ljava/lang/Object;)V)
        LABEL (L3)
        LINENUMBER (49)
          RETURN
        LABEL (L4)
    }

    public final static void g2()
}

public final class SM : java/lang/Object {
    public final static SM INSTANCE

    private final kotlinx.stm.STM _______stm_____

    private final kotlinx.stm.UniversalDelegate x$_______Sharable____

    static void <clinit>()

    private void <init>() {
        LABEL (L0)
          ALOAD (0)
        LABEL (L1)
        LINENUMBER (51)
          INVOKESPECIAL (java/lang/Object, <init>, ()V)
          ALOAD (0)
          GETSTATIC (INSTANCE, Lkotlinx/stm/STMSearcher;)
          INVOKEVIRTUAL (kotlinx/stm/STMSearcher, getSTM, ()Lkotlinx/stm/STM;)
          PUTFIELD (_______stm_____, Lkotlinx/stm/STM;)
          ALOAD (0)
          ALOAD (0)
          GETFIELD (_______stm_____, Lkotlinx/stm/STM;)
        LABEL (L2)
        LINENUMBER (53)
          BIPUSH (21)
          INVOKESTATIC (java/lang/Integer, valueOf, (I)Ljava/lang/Integer;)
        LABEL (L3)
        LINENUMBER (51)
          INVOKEVIRTUAL (kotlinx/stm/STM, wrap, (Ljava/lang/Object;)Lkotlinx/stm/UniversalDelegate;)
          PUTFIELD (x$_______Sharable____, Lkotlinx/stm/UniversalDelegate;)
          RETURN
        LABEL (L4)
    }

    public final int _____get_x$_______Sharable____(kotlinx.stm.STMContext $ctx)

    public final void _set_____x$_______Sharable____(kotlinx.stm.STMContext $ctx, int newValue)
}

final class User$f$1 : kotlin/jvm/internal/Lambda, kotlin/jvm/functions/Function1 {
    private final User $this

    void <init>(User $receiver) {
        LABEL (L0)
          ALOAD (0)
          ALOAD (1)
          PUTFIELD ($this, LUser;)
          ALOAD (0)
          ICONST_1
          INVOKESPECIAL (kotlin/jvm/internal/Lambda, <init>, (I)V)
          RETURN
        LABEL (L1)
    }

    public final java.lang.String invoke(kotlinx.stm.STMContext ctx) {
        LABEL (L0)
        LINENUMBER (21)
          ALOAD (0)
          GETFIELD ($this, LUser;)
          ALOAD (1)
          INVOKEVIRTUAL (User, _____get_firstName$_______Sharable____, (Lkotlinx/stm/STMContext;)Ljava/lang/String;)
          INVOKEVIRTUAL (java/lang/String, hashCode, ()I)
          ISTORE (2)
        LABEL (L1)
        LINENUMBER (22)
          ALOAD (0)
          GETFIELD ($this, LUser;)
          ALOAD (1)
          INVOKEVIRTUAL (User, _____get_firstName$_______Sharable____, (Lkotlinx/stm/STMContext;)Ljava/lang/String;)
          INVOKEVIRTUAL (java/lang/String, hashCode, ()I)
          ISTORE (3)
        LABEL (L2)
          NEW
          DUP
        LABEL (L3)
        LINENUMBER (23)
          INVOKESPECIAL (java/lang/StringBuilder, <init>, ()V)
          ILOAD (2)
          INVOKEVIRTUAL (java/lang/StringBuilder, append, (I)Ljava/lang/StringBuilder;)
          BIPUSH (58)
          INVOKEVIRTUAL (java/lang/StringBuilder, append, (C)Ljava/lang/StringBuilder;)
          ILOAD (3)
          INVOKEVIRTUAL (java/lang/StringBuilder, append, (I)Ljava/lang/StringBuilder;)
          INVOKEVIRTUAL (java/lang/StringBuilder, toString, ()Ljava/lang/String;)
          ARETURN
        LABEL (L4)
    }

    public java.lang.Object invoke(java.lang.Object p1) {
        LABEL (L0)
          ALOAD (0)
          ALOAD (1)
          CHECKCAST
          INVOKEVIRTUAL (User$f$1, invoke, (Lkotlinx/stm/STMContext;)Ljava/lang/String;)
          ARETURN
        LABEL (L1)
    }
}

final class User$toString$1 : kotlin/jvm/internal/Lambda, kotlin/jvm/functions/Function1 {
    private final User $this

    void <init>(User $receiver) {
        LABEL (L0)
          ALOAD (0)
          ALOAD (1)
          PUTFIELD ($this, LUser;)
          ALOAD (0)
          ICONST_1
          INVOKESPECIAL (kotlin/jvm/internal/Lambda, <init>, (I)V)
          RETURN
        LABEL (L1)
    }

    public final java.lang.String invoke(kotlinx.stm.STMContext ctx) {
        LABEL (L0)
          NEW
          DUP
        LABEL (L1)
        LINENUMBER (27)
          INVOKESPECIAL (java/lang/StringBuilder, <init>, ()V)
          LDC (atomic(2) user is: )
          INVOKEVIRTUAL (java/lang/StringBuilder, append, (Ljava/lang/String;)Ljava/lang/StringBuilder;)
          ALOAD (0)
          GETFIELD ($this, LUser;)
          ALOAD (1)
          INVOKEVIRTUAL (User, _____get_firstName$_______Sharable____, (Lkotlinx/stm/STMContext;)Ljava/lang/String;)
          INVOKEVIRTUAL (java/lang/StringBuilder, append, (Ljava/lang/String;)Ljava/lang/StringBuilder;)
          BIPUSH (32)
          INVOKEVIRTUAL (java/lang/StringBuilder, append, (C)Ljava/lang/StringBuilder;)
          ALOAD (0)
          GETFIELD ($this, LUser;)
          ALOAD (1)
          INVOKEVIRTUAL (User, _____get_lastName$_______Sharable____, (Lkotlinx/stm/STMContext;)Ljava/lang/String;)
          INVOKEVIRTUAL (java/lang/StringBuilder, append, (Ljava/lang/String;)Ljava/lang/StringBuilder;)
          INVOKEVIRTUAL (java/lang/StringBuilder, toString, ()Ljava/lang/String;)
          ARETURN
        LABEL (L2)
    }

    public java.lang.Object invoke(java.lang.Object p1) {
        LABEL (L0)
          ALOAD (0)
          ALOAD (1)
          CHECKCAST
          INVOKEVIRTUAL (User$toString$1, invoke, (Lkotlinx/stm/STMContext;)Ljava/lang/String;)
          ARETURN
        LABEL (L1)
    }
}

public final class User : java/lang/Object {
    private final kotlinx.stm.STM _______stm_____

    private final kotlinx.stm.UniversalDelegate firstName$_______Sharable____

    private final kotlinx.stm.UniversalDelegate lastName$_______Sharable____

    public void <init>(java.lang.String fname, java.lang.String lname) {
        LABEL (L0)
          ALOAD (1)
          LDC (fname)
          INVOKESTATIC (kotlin/jvm/internal/Intrinsics, checkNotNullParameter, (Ljava/lang/Object;Ljava/lang/String;)V)
          ALOAD (2)
          LDC (lname)
          INVOKESTATIC (kotlin/jvm/internal/Intrinsics, checkNotNullParameter, (Ljava/lang/Object;Ljava/lang/String;)V)
          ALOAD (0)
        LABEL (L1)
        LINENUMBER (6)
          INVOKESPECIAL (java/lang/Object, <init>, ()V)
          ALOAD (0)
          GETSTATIC (INSTANCE, Lkotlinx/stm/STMSearcher;)
          INVOKEVIRTUAL (kotlinx/stm/STMSearcher, getSTM, ()Lkotlinx/stm/STM;)
          PUTFIELD (_______stm_____, Lkotlinx/stm/STM;)
          ALOAD (0)
          ALOAD (0)
          GETFIELD (_______stm_____, Lkotlinx/stm/STM;)
        LABEL (L2)
        LINENUMBER (8)
          ALOAD (1)
        LABEL (L3)
        LINENUMBER (6)
          INVOKEVIRTUAL (kotlinx/stm/STM, wrap, (Ljava/lang/Object;)Lkotlinx/stm/UniversalDelegate;)
          PUTFIELD (firstName$_______Sharable____, Lkotlinx/stm/UniversalDelegate;)
          ALOAD (0)
          ALOAD (0)
          GETFIELD (_______stm_____, Lkotlinx/stm/STM;)
        LABEL (L4)
        LINENUMBER (9)
          ALOAD (2)
        LABEL (L5)
        LINENUMBER (6)
          INVOKEVIRTUAL (kotlinx/stm/STM, wrap, (Ljava/lang/Object;)Lkotlinx/stm/UniversalDelegate;)
          PUTFIELD (lastName$_______Sharable____, Lkotlinx/stm/UniversalDelegate;)
        LABEL (L6)
        LINENUMBER (7)
          RETURN
        LABEL (L7)
    }

    public final java.lang.String _____get_firstName$_______Sharable____(kotlinx.stm.STMContext $ctx) {
        LABEL (L0)
        LINENUMBER (6)
          ALOAD (0)
          GETFIELD (_______stm_____, Lkotlinx/stm/STM;)
          ALOAD (1)
          ALOAD (0)
          GETFIELD (firstName$_______Sharable____, Lkotlinx/stm/UniversalDelegate;)
          INVOKEVIRTUAL (kotlinx/stm/STM, getVar, (Lkotlinx/stm/STMContext;Lkotlinx/stm/UniversalDelegate;)Ljava/lang/Object;)
          CHECKCAST
          ARETURN
        LABEL (L1)
    }

    public final java.lang.String _____get_lastName$_______Sharable____(kotlinx.stm.STMContext $ctx) {
        LABEL (L0)
        LINENUMBER (6)
          ALOAD (0)
          GETFIELD (_______stm_____, Lkotlinx/stm/STM;)
          ALOAD (1)
          ALOAD (0)
          GETFIELD (lastName$_______Sharable____, Lkotlinx/stm/UniversalDelegate;)
          INVOKEVIRTUAL (kotlinx/stm/STM, getVar, (Lkotlinx/stm/STMContext;Lkotlinx/stm/UniversalDelegate;)Ljava/lang/Object;)
          CHECKCAST
          ARETURN
        LABEL (L1)
    }

    public final void _set_____firstName$_______Sharable____(kotlinx.stm.STMContext $ctx, java.lang.String newValue) {
        LABEL (L0)
          ALOAD (2)
          LDC (newValue)
          INVOKESTATIC (kotlin/jvm/internal/Intrinsics, checkNotNullParameter, (Ljava/lang/Object;Ljava/lang/String;)V)
        LABEL (L1)
        LINENUMBER (6)
          ALOAD (0)
          GETFIELD (_______stm_____, Lkotlinx/stm/STM;)
          ALOAD (1)
          ALOAD (0)
          GETFIELD (firstName$_______Sharable____, Lkotlinx/stm/UniversalDelegate;)
          ALOAD (2)
          INVOKEVIRTUAL (kotlinx/stm/STM, setVar, (Lkotlinx/stm/STMContext;Lkotlinx/stm/UniversalDelegate;Ljava/lang/Object;)V)
        LABEL (L2)
        LINENUMBER (29)
          RETURN
        LABEL (L3)
    }

    public final void _set_____lastName$_______Sharable____(kotlinx.stm.STMContext $ctx, java.lang.String newValue) {
        LABEL (L0)
          ALOAD (2)
          LDC (newValue)
          INVOKESTATIC (kotlin/jvm/internal/Intrinsics, checkNotNullParameter, (Ljava/lang/Object;Ljava/lang/String;)V)
        LABEL (L1)
        LINENUMBER (6)
          ALOAD (0)
          GETFIELD (_______stm_____, Lkotlinx/stm/STM;)
          ALOAD (1)
          ALOAD (0)
          GETFIELD (lastName$_______Sharable____, Lkotlinx/stm/UniversalDelegate;)
          ALOAD (2)
          INVOKEVIRTUAL (kotlinx/stm/STM, setVar, (Lkotlinx/stm/STMContext;Lkotlinx/stm/UniversalDelegate;Ljava/lang/Object;)V)
        LABEL (L2)
        LINENUMBER (29)
          RETURN
        LABEL (L3)
    }

    public final java.lang.String f() {
        LABEL (L0)
        LINENUMBER (6)
          ALOAD (0)
          GETFIELD (_______stm_____, Lkotlinx/stm/STM;)
          ACONST_NULL
          NEW
          DUP
          ALOAD (0)
          INVOKESPECIAL (User$f$1, <init>, (LUser;)V)
          CHECKCAST
          INVOKEVIRTUAL (kotlinx/stm/STM, runAtomically, (Lkotlinx/stm/STMContext;Lkotlin/jvm/functions/Function1;)Ljava/lang/Object;)
          CHECKCAST
          ARETURN
        LABEL (L1)
    }

    public java.lang.String toString() {
        LABEL (L0)
        LINENUMBER (6)
          ALOAD (0)
          GETFIELD (_______stm_____, Lkotlinx/stm/STM;)
          ACONST_NULL
          NEW
          DUP
          ALOAD (0)
          INVOKESPECIAL (User$toString$1, <init>, (LUser;)V)
          CHECKCAST
          INVOKEVIRTUAL (kotlinx/stm/STM, runAtomically, (Lkotlinx/stm/STMContext;Lkotlin/jvm/functions/Function1;)Ljava/lang/Object;)
          CHECKCAST
          ARETURN
        LABEL (L1)
    }
}
